#!/usr/bin/env rust

fn test_1indexed_array_char_access() {
    z := @['a', 'b', 'c']
    if z#1 != 'a' { panic!("First element failed") }
    if z#2 != 'b' { panic!("Second element failed") }
    if z#3 != 'c' { panic!("Third element failed") }
}

fn test_1indexed_array_numeric_access() {
    nums := @[10, 20, 30, 40]
    if nums#1 != 10 { panic!("nums#1 failed") }
    if nums#4 != 40 { panic!("nums#4 failed") }
}

fn test_1indexed_array_variable_index() {
    z := @['a', 'b', 'c']
    idx := 2
    if z#idx != 'b' { panic!("z#idx failed") }
}

fn test_1indexed_single_element_array() {
    single := @['x']
    if single#1 != 'x' { panic!("single#1 failed") }
}

fn test_1indexed_boundary_access() {
    nums := @[10, 20, 30, 40]
    if nums#4 != 40 { panic!("last element access failed") }
}

fn test_1indexed_arithmetic_operations() {
    nums := @[10, 20, 30, 40]
    if (nums#1 + nums#2) != 30 { panic!("arithmetic with 1-indexed failed") }
    if (nums#3 - nums#1) != 20 { panic!("subtraction with 1-indexed failed") }
}

fn test_1indexed_variable_boundaries() {
    nums := @[10, 20, 30, 40]
    first_idx := 1
    last_idx := 4
    if nums#first_idx != 10 { panic!("first via variable failed") }
    if nums#last_idx != 40 { panic!("last via variable failed") }
}

fn test_1indexed_vs_0indexed_equivalence() {
    mixed := @[100, 200, 300]
    if mixed#1 != mixed[0] { panic!("1-indexed != 0-indexed") }
    if mixed#3 != mixed[2] { panic!("last element mismatch") }
}

fn test_1indexed_computed_index_assignment() {
    writable := @[10, 20, 30]
    writable#(1+1) = 99
    if writable#2 != 99 { panic!("computed index assignment failed") }
}

fn test_1indexed_char_array_boundaries() {
    chars := @['a', 'b', 'c', 'd', 'e']
    if chars#1 != 'a' { panic!("first char failed") }
    if chars#5 != 'e' { panic!("last char failed") }
}

fn test_1indexed_complex_expression_index() {
    nums := @[10, 20, 30, 40]
    expr_idx := (4 - 2) + 1
    if nums#expr_idx != 30 { panic!("complex expression index failed") }
}

fn main() {
    test_1indexed_array_char_access();
    test_1indexed_array_numeric_access();
    test_1indexed_array_variable_index();
    test_1indexed_single_element_array();
    test_1indexed_boundary_access();
    test_1indexed_arithmetic_operations();
    test_1indexed_variable_boundaries();
    test_1indexed_vs_0indexed_equivalence();
    test_1indexed_computed_index_assignment();
    test_1indexed_char_array_boundaries();
    test_1indexed_complex_expression_index();
}
