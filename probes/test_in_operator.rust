#!/usr/bin/env rust

fn test_in_operator_string_contains() {
	let result1 = "hello" in "hello world";
	println!("'hello' in 'hello world': {}", result1);
	assert!(result1);

	let result2 = "xyz" in "hello world";
	println!("'xyz' in 'hello world': {}", result2);
	assert!(!result2);
}

fn test_in_operator_vec_contains() {
	let numbers = vec![1, 2, 3, 4, 5];
	let result3 = &3 in numbers;
	println!("3 in [1,2,3,4,5]: {}", result3);
	assert!(result3);

	let result4 = &10 in numbers;
	println!("10 in [1,2,3,4,5]: {}", result4);
	assert!(!result4);
}

fn test_in_operator_array_slice() {
	let arr = [1, 2, 3];
	let result5 = &2 in &arr[..];
	println!("2 in [1,2,3]: {}", result5);
	assert!(result5);
}

fn test_in_operator_string_in_condition() {
	if "rust" in "hello rust world" {
		println!("Found 'rust' in the string!");
	} else {
		panic!("Should have found 'rust'!");
	}
}

fn test_in_operator_vec_in_condition() {
	let numbers = vec![1, 2, 3, 4, 5];
	if &5 in &numbers {
		println!("Found 5 in numbers!");
	} else {
		panic!("Should have found 5!");
	}
}

fn test_in_operator_string_variables() {
	let text = "hello world";
	let result1 = "hello" in text;
	let result2 = "xyz" in text;

	put!("'hello' in '%s': %t\n", text, result1);
	put!("'xyz' in '%s': %t\n", text, result2);

	let needle = "world";
	let result3 = needle in text;
	put!("'%s' in '%s': %t\n", needle, text, result3);
	assert!(needle in text);
}

fn test_in_operator_empty_string_edge_case() {
	assert!("" in "hello");
	assert!("" in "");
}

fn test_in_operator_empty_vec_edge_case() {
	let empty_vec: Vec<i32> = vec![];
	assert!(!(&1 in &empty_vec));
	assert!(!(&0 in &empty_vec));
}

fn test_in_operator_single_element_vec() {
	let single = vec![42];
	assert!(&42 in &single);
	assert!(!(&41 in &single));
}

fn test_in_operator_string_at_boundaries() {
	assert!("hello" in "hello world");
	assert!("world" in "hello world");
	assert!("hello world" in "hello world");
}

fn test_in_operator_substring_not_found() {
	assert!(!("Hello" in "hello"));
	assert!(!("helo" in "hello"));
	assert!(!("hello world!" in "hello world"));
}

fn test_in_operator_single_character_search() {
	assert!("h" in "hello");
	assert!("o" in "hello");
	assert!(!("x" in "hello"));
}

fn test_in_operator_repeated_elements() {
	let repeated = vec![1, 2, 2, 3, 2, 4];
	assert!(&2 in &repeated);
	assert!(&1 in &repeated);
	assert!(&4 in &repeated);
	assert!(!(&5 in &repeated));
}

fn test_in_operator_boundary_values() {
	let range_vec = vec![0, 1, 2, 3, 4, 5];
	assert!(&0 in &range_vec);
	assert!(&5 in &range_vec);
	assert!(!(&-1 in &range_vec));
	assert!(!(&6 in &range_vec));
}

fn main() {
    test_in_operator_string_contains();
    test_in_operator_vec_contains();
    test_in_operator_array_slice();
    test_in_operator_string_in_condition();
    test_in_operator_vec_in_condition();
    test_in_operator_string_variables();
    test_in_operator_empty_string_edge_case();
    test_in_operator_empty_vec_edge_case();
    test_in_operator_single_element_vec();
    test_in_operator_string_at_boundaries();
    test_in_operator_substring_not_found();
    test_in_operator_single_character_search();
    test_in_operator_repeated_elements();
    test_in_operator_boundary_values();
}
